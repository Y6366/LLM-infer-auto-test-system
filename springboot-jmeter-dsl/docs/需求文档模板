面向“要解决什么问题、满足谁、做到什么程度”，不写实现细节。

文档概览

版本/历史、作者、评审人、更新日志、术语与缩写、参考资料

背景与目标

问题与动机（业务痛点/机会）

业务目标 & 非目标（Out of Scope）

目标用户/角色画像与场景

范围与边界

需求范围、接口与外部系统、依赖与假设、约束（法规/合规/安全/隐私/合约）

业务流程与用例

业务流程图/BPMN、用户旅程

用例列表（触发条件、主/备选流程、异常流程）

功能需求（可跟踪）

需求编号（支持需求→用例→测试的双向追踪）

每条功能需求包含：描述、优先级、验收标准（Given/When/Then）、依赖、风险

非功能需求（质量属性）

性能（QPS、P95/P99、并发/容量）、可靠性（SLA/SLO、降级）、可用性、可维护性、可观测性

安全与隐私（认证、授权、加密、审计、数据保留）

兼容性（向后兼容策略、弃用计划）、国际化/可访问性等

数据与报告

关键实体与数据字典（字段、类型、约束、枚举、示例）

报表/埋点与指标（事件、属性、口径、看板）

里程碑与交付物

范围切分（MVP/迭代）、时间线、风险与缓解、上线计划、回滚策略











# 项目名称 · 需求文档（SRS/PRD）
- 版本：v0.1.0
- 作者：@yourname
- 评审：@pm @dev @qa
- 更新日志：2025-10-23 初始化
- 术语与缩写：SLA、SLO、QPS、JWT、Idempotency-Key…
- 参考资料：业务规约链接 / 竞品文档 / 监管要求

## 1. 背景与目标
- 背景/痛点：
- 业务目标（可量化 KPI）：例如 下单转化率 +5%，退款时长 P95 < 5min
- 非目标（Out of Scope）：例如 不含跨境结算、礼品卡

## 2. 范围与边界
- 系统范围：前端（Vue）/ 后端（Spring Boot）/ 数据库（MySQL）/ 消息（Kafka）/ 缓存（Redis）
- 外部依赖：支付网关、库存系统、用户系统、风控、日志平台
- 约束与合规：数据脱敏、加密、审计保留 180 天

## 3. 角色与核心场景
- 角色：访客、注册用户、管理员、客服
- 用户旅程（简）：浏览 → 加购 → 下单 → 支付 → 发货 → 收货/评价
- 用例列表（示例）：
  - UC-001 下单：Given 已登录且购物车非空，When 点击“提交订单”，Then 生成订单并进入`待支付`
  - UC-002 支付：Given 订单`待支付`，When 支付网关回调成功，Then 订单进入`已支付`

## 4. 业务流程（高层）
- BPMN 或流程图（可后续补图）
- 关键规则：单用户未支付订单上限 5 单；每件商品每日购买上限 10 件

## 5. 功能需求清单（可追踪）
| ID | 描述 | 优先级 | 验收标准（G/W/T） | 依赖 | 备注 |
|----|------|--------|-------------------|------|------|
| FR-001 | 用户可提交订单 | P0 | Given…When…Then… | 支付、库存 |  |

## 6. 非功能需求
- 性能：下单接口 QPS=200，P95<120ms；订单查询 P95<80ms
- 可用性：SLA 99.9%，降级策略（仅浏览、延迟结算）
- 安全：JWT 鉴权，字段脱敏，权限细粒度（RBAC）
- 可观测：traceId、业务打点（下单成功率、支付成功率）
- 兼容性：API v1 → v2 兼容 90 天，提供弃用公告

## 7. 数据与指标
- 核心实体：User、Order、OrderItem、Payment
- 数据字典（字段/类型/约束/示例）
- 埋点与报表：下单成功率、支付失败原因分布

## 8. 里程碑与上线
- MVP 切分：M1（下单+支付回调）、M2（退款/售后）
- 上线计划：灰度 5% → 20% → 100%，回滚策略（开关、版本回退）
- 风险与缓解：支付回调抖动 → 幂等等/补偿任务
